---
title: Project Structure
description: Understanding the structure of a Discraft project and how the different components work together.
---

Understanding the structure of a Discraft project is essential for effective development. This guide explains the purpose of each directory and file in a standard Discraft project.

## Overview

A typical Discraft project has the following structure:

```
my-discord-bot/
├── .discraft/        # Generated files (do not edit manually)
├── clients/          # Discord client configuration
├── commands/         # Bot commands
├── events/           # Event handlers
├── utils/            # Utility functions
├── .env              # Environment variables
├── .env.example      # Example environment variables
├── .gitignore        # Git ignore file
├── index.ts          # Main entry point
├── package.json      # Project dependencies and scripts
└── tsconfig.json     # TypeScript configuration (if using TS)
```

Let's explore each component in detail.

## Core Directories

### `.discraft/` (Generated)

This directory contains files generated by the Discraft CLI. **Do not edit these files manually** as they will be regenerated when you run `discraft dev` or `discraft build`.

Key generated files include:

- `commands/index.ts`: Registry of all commands
- `events/index.ts`: Registry of all event handlers

### `clients/`

Contains client configuration for connecting to Discord:

```typescript
// clients/discord.ts
import { Client, GatewayIntentBits } from "discord.js";

const client = new Client({
  intents: [
    GatewayIntentBits.Guilds,
    GatewayIntentBits.GuildMessages,
    // Add other intents as needed
  ],
});

export default client;
```

You can customize this file to:

- Configure intents
- Set presence options
- Add global event listeners
- Configure other client options

### `commands/`

Each file in this directory defines a Discord slash command. Commands follow this structure:

```typescript
// commands/example.ts
import { ChatInputCommandInteraction, SlashCommandBuilder } from "discord.js";

export default {
  // Command definition
  data: new SlashCommandBuilder()
    .setName("example")
    .setDescription("An example command")
    .addStringOption((option) =>
      option.setName("input").setDescription("Example input").setRequired(true)
    ),

  // Command execution logic
  async execute(data: { interaction: ChatInputCommandInteraction }) {
    const { interaction } = data;
    const input = interaction.options.getString("input");
    await interaction.reply(`You said: ${input}`);
  },
};
```

### `events/`

Contains handlers for Discord events. Each file corresponds to a specific event:

```typescript
// events/messageCreate.ts
import { Message } from "discord.js";

export default {
  name: "messageCreate",
  once: false,
  execute(message: Message) {
    // Logic to handle new messages
    if (message.author.bot) return;
    console.log(`Message received: ${message.content}`);
  },
};
```

### `utils/`

Utility functions and helpers for your bot:

```typescript
// utils/logger.ts
export const logger = {
  info: (message: string) => console.log(`[INFO] ${message}`),
  error: (message: string) => console.error(`[ERROR] ${message}`),
  // ...other logging methods
};
```

## Core Files

### `index.ts` / `index.js`

The main entry point for your bot:

```typescript
import { configDotenv } from "dotenv";
configDotenv();

// Generated imports
import { registerCommands } from "./.discraft/commands/index";
import { registerEvents } from "./.discraft/events/index";
import client from "./clients/discord";
import { logger } from "./utils/logger";

// Bot initialization logic
logger.info("Starting bot...");

// Register events before login
registerEvents(client)
  .then(() => {
    logger.info("Events registered successfully.");
  })
  .catch((err) => {
    logger.error("Error registering events.");
    console.error(err);
  });

// Login and register commands
client.on("ready", async () => {
  logger.info(`Logged in as ${client.user?.tag}!`);
  try {
    await registerCommands(client);
    logger.info("Commands registered successfully.");
  } catch (err) {
    logger.error("Error registering commands.");
    console.error(err);
  }
});

client.login(process.env.DISCORD_TOKEN);
```

### `.env` and `.env.example`

Environment variables for your bot:

```
# .env.example
DISCORD_TOKEN=your_bot_token_here
DISCORD_CLIENT_ID=your_client_id_here
DISCORD_GUILD_ID=optional_guild_id_for_dev
```

### `package.json`

Project metadata and dependencies:

```json
{
  "name": "my-discord-bot",
  "version": "1.0.0",
  "description": "A Discord bot built with Discraft",
  "main": "index.js",
  "scripts": {
    "dev": "discraft dev",
    "build": "discraft build",
    "start": "discraft start"
  },
  "dependencies": {
    "discord.js": "^14.0.0",
    "dotenv": "^16.0.0"
  },
  "devDependencies": {
    "discraft": "^1.0.0",
    "typescript": "^5.0.0"
  }
}
```

### `tsconfig.json` (TypeScript only)

TypeScript configuration:

```json
{
  "compilerOptions": {
    "target": "ES2022",
    "module": "NodeNext",
    "moduleResolution": "NodeNext",
    "esModuleInterop": true,
    "outDir": "dist",
    "strict": true
  },
  "include": ["**/*.ts"],
  "exclude": ["node_modules", "dist"]
}
```

## Template Variations

Different templates may have slight variations:

- **JavaScript template**: Uses `.js` files and doesn't include TypeScript configuration
- **Vercel + TypeScript + AI template**: Includes additional files for serverless deployment and AI integration

## Generated Files

When you run `discraft dev` or `discraft build`, Discraft generates:

1. Command registries that automatically discover and register all commands
2. Event registries that connect event handlers to the Discord client
3. Build artifacts in the `dist/` directory

## Next Steps

Now that you understand the project structure, you can:

- [Learn about the command system](/docs/core-concepts/command-system)
- [Explore event handling](/docs/core-concepts/event-handling)
- [Dive into the CLI commands](/docs/cli/index)
